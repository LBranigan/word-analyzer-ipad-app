/**
 * Phonetic equivalences database
 * Maps words to their homophones and common confusions
 * Ported from word-analyzer-v2 app.js lines 1916-1981
 */
export const phoneticEquivalences: Record<string, string[]> = {
  // Common homophones
  'knight': ['night'],
  'know': ['no'],
  'knew': ['new', 'gnu'],
  'one': ['won', '1'],
  'two': ['to', 'too', '2'],
  'three': ['3'],
  'four': ['for', 'fore', '4'],
  'five': ['5'],
  'six': ['sicks', '6'],
  'seven': ['7'],
  'eight': ['ate', '8'],
  'nine': ['9'],
  'ten': ['10'],
  'to': ['too', 'two'],
  'their': ['there', 'theyre', "they're"],
  'there': ['their', 'theyre', "they're"],
  'theyre': ['their', 'there', "they're"],
  'your': ['youre', "you're"],
  'youre': ['your', "you're"],
  'its': ["it's", 'itis'],
  'write': ['right', 'rite'],
  'right': ['write', 'rite'],
  'see': ['sea', 'c'],
  'sea': ['see', 'c'],
  'be': ['bee'],
  'bee': ['be'],
  'by': ['bye', 'buy'],
  'bye': ['by', 'buy'],
  'buy': ['by', 'bye'],
  'here': ['hear'],
  'hear': ['here'],
  'where': ['wear', 'ware'],
  'wear': ['where', 'ware'],
  'which': ['witch'],
  'witch': ['which'],
  'would': ['wood'],
  'wood': ['would'],
  'piece': ['peace'],
  'peace': ['piece'],
  'plain': ['plane'],
  'plane': ['plain'],
  'rain': ['reign', 'rein'],
  'reign': ['rain', 'rein'],
  'road': ['rode', 'rowed'],
  'rode': ['road', 'rowed'],
  'role': ['roll'],
  'roll': ['role'],
  'sail': ['sale'],
  'sale': ['sail'],
  'son': ['sun'],
  'sun': ['son'],
  'tail': ['tale'],
  'tale': ['tail'],
  'wait': ['weight'],
  'weight': ['wait'],
  'weak': ['week'],
  'week': ['weak'],
  'whole': ['hole'],
  'hole': ['whole'],
  'flour': ['flower'],
  'flower': ['flour'],
  'hair': ['hare'],
  'hare': ['hair'],
  'bare': ['bear'],
  'bear': ['bare'],
  'pair': ['pear', 'pare'],
  'pear': ['pair', 'pare'],
  'fair': ['fare'],
  'fare': ['fair'],
  'stair': ['stare'],
  'stare': ['stair'],
  'die': ['dye'],
  'dye': ['die'],
  'eye': ['i', 'aye'],
  'i': ['eye', 'aye'],
  'hour': ['our'],
  'our': ['hour'],
  'meat': ['meet', 'mete'],
  'meet': ['meat', 'mete'],
  'steel': ['steal'],
  'steal': ['steel'],
  'dear': ['deer'],
  'deer': ['dear'],
  'board': ['bored'],
  'bored': ['board'],
  'scene': ['seen'],
  'seen': ['scene'],
  'break': ['brake'],
  'brake': ['break'],
  'waist': ['waste'],
  'waste': ['waist'],
  'allowed': ['aloud'],
  'aloud': ['allowed'],
  'cell': ['sell'],
  'sell': ['cell'],
  'cent': ['sent', 'scent'],
  'sent': ['cent', 'scent'],
  'scent': ['cent', 'sent'],
  'cite': ['site', 'sight'],
  'site': ['cite', 'sight'],
  'sight': ['cite', 'site'],
  'course': ['coarse'],
  'coarse': ['course'],
  'principle': ['principal'],
  'principal': ['principle'],
  'stationary': ['stationery'],
  'stationery': ['stationary'],
  'complement': ['compliment'],
  'compliment': ['complement'],
  'than': ['then'],
  'then': ['than'],
  'affect': ['effect'],
  'effect': ['affect'],
  'accept': ['except'],
  'except': ['accept'],
  'advice': ['advise'],
  'advise': ['advice'],
  'breath': ['breathe'],
  'breathe': ['breath'],
  'loose': ['lose'],
  'lose': ['loose'],
  'quite': ['quiet'],
  'quiet': ['quite'],

  // Names (common confusions)
  'graham': ['gram', 'grahm'],
  'stephen': ['steven'],
  'steven': ['stephen'],
  'sean': ['shawn', 'shaun'],
  'shawn': ['sean', 'shaun'],
  'shaun': ['sean', 'shawn'],
  'michael': ['micheal'],
  'micheal': ['michael'],
  'katherine': ['catherine', 'kathryn'],
  'catherine': ['katherine', 'kathryn'],

  // Contractions
  'cannot': ["can't", 'cant'],
  'dont': ["don't", 'do not'],
  'wont': ["won't", 'will not'],
  'isnt': ["isn't", 'is not'],
  'arent': ["aren't", 'are not'],
  'wasnt': ["wasn't", 'was not'],
  'werent': ["weren't", 'were not'],
  'havent': ["haven't", 'have not'],
  'hasnt': ["hasn't", 'has not'],
  'hadnt': ["hadn't", 'had not'],
  'wouldnt': ["wouldn't", 'would not'],
  'couldnt': ["couldn't", 'could not'],
  'shouldnt': ["shouldn't", 'should not'],
  'didnt': ["didn't", 'did not'],
  'doesnt': ["doesn't", 'does not'],
};

/**
 * Check if two words are phonetic equivalents
 */
export function arePhoneticEquivalents(word1: string, word2: string): boolean {
  const w1 = word1.toLowerCase().replace(/[^a-z0-9]/g, '');
  const w2 = word2.toLowerCase().replace(/[^a-z0-9]/g, '');

  if (w1 === w2) return true;

  const equivalents1 = phoneticEquivalences[w1] || [];
  const equivalents2 = phoneticEquivalences[w2] || [];

  return equivalents1.includes(w2) || equivalents2.includes(w1);
}
